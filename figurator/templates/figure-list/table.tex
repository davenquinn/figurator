<#- set ref = 'tbl:'+id -#>
<# macro figid() -#>
Table \ref{<< ref >>}
<#- endmacro #>
<# macro figref() -#>
\color{light-gray}\HaskligLight{<< ref |escape >>}
<#- endmacro #>

\begin{samepage}
  \subsection[<< figid() >><#- if title #>: \textit{<< title >>}<#- endif #>~~\small{<< figref() >>}]%
  {<< figid() >><#- if title #>: \GothamLight\small{<< title >>} \hfill << figref() >><#- endif #>}
\nopagebreak
<#- if two_column or sideways #>
\begin{adjustbox}{width=\textwidth,center}
<# endif -#>
\begin{threeparttable}
  <#- if caption #>
  \captionof{table}[<<title>>]{<< caption >>}
  <# else #>
  \captionlistentry[table]{<< title >>}
  <# endif -#>\label{<< ref >>}
  <<content >>
  <#- if notes #>
  \begin{tablenotes}
    <#- for k,note in notes.items() #>
    <#- if k != "" -#>
    \item [<<k>>] <<note>>
    <#- else -#>
    <<note>>
    <#- endif -#>
    <# endfor -#>
  \end{tablenotes}
  <# endif -#>
\end{threeparttable}
<#- if two_column or sideways #>\end{adjustbox}<# endif #>
<#- if desc #>
\nopagebreak
\begin{figinfo}<< desc >>\end{figinfo}
<# endif -#>
\end{samepage}
\pagebreak

